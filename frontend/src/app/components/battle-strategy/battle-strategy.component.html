@if (player){
<div class="battle-strategy">
  @for (pokemon of player.pokemons; track pokemon._id; let i =$index){ @if
  (pokemon.level !== 0){
  <div class="battle-strategy__pokemon">
    <div class="battle-strategy__pokemon__infos">
      <app-display-pokemon-image type="thumbnails" [pokemon]="pokemon" />
      <pm-display-type
        [types]="pokemon.basePokemon.types"
        [displayText]="false" />
      <span>{{
        pokemon.nickname ?? pokemon.basePokemon.name | translate
      }}</span>
    </div>
    <div class="battle-strategy__pokemon__move-form">
      <div class="battle-strategy__pokemon__move-form__moves">
        @for (move of pokemon.moves;track move._id; let j = $index) {
        <div class="battle-strategy__pokemon__move-form__moves__move">
          <pm-move [move]="move" />
          <mat-button-toggle-group
            [formControl]="form().controls.at(i).controls.at(j)">
            <mat-button-toggle
              [checked]="pokemon.strategy.at(j) === 3"
              [value]="3"
              >--</mat-button-toggle
            >
            <mat-button-toggle
              [checked]="pokemon.strategy.at(j) === 6"
              [value]="6"
              >-</mat-button-toggle
            >
            <mat-button-toggle
              [checked]="pokemon.strategy.at(j) === 9"
              [value]="9"
              >O</mat-button-toggle
            >
            <mat-button-toggle
              [checked]="pokemon.strategy.at(j) === 12"
              [value]="12"
              >+</mat-button-toggle
            >
            <mat-button-toggle
              [checked]="pokemon.strategy.at(j) === 15"
              [value]="15"
              >++</mat-button-toggle
            >
          </mat-button-toggle-group>
        </div>
        }
      </div>
      <div class="battle-strategy__pokemon__move-form__actions">
        <button mat-flat-button (click)="modifyMove(pokemon)" color="warn">
          {{ 'CHANGE_MOVES' | translate }}
        </button>
      </div>
    </div>
  </div>
  } }
</div>
}
