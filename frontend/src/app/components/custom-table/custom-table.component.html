<table
  matSort
  (matSortChange)="sort($event)"
  mat-table
  [dataSource]="dataSource"
>
  <ng-container
    *ngFor="let column of conf.columns"
    [matColumnDef]="column.name"
  >
    <th *matHeaderCellDef>
      <ng-container *ngIf="column.sort; else notSortable">
        <div mat-sort-header>
          <ng-container
            pmDynamicCell
            [componentType]="column.header.component"
            [data]="column.header.data"
          >
          </ng-container>
        </div>
      </ng-container>
      <ng-template #notSortable>
        <ng-container
          pmDynamicCell
          [componentType]="column.header.component"
          [data]="column.header.data"
        >
        </ng-container>
      </ng-template>
    </th>
    <td mat-cell *matCellDef="let element">
      <ng-container
        pmDynamicCell
        [componentType]="column.content.component"
        [data]="getData(element, column.content.data)"
      />
    </td>
  </ng-container>
  <tr mat-header-row *matHeaderRowDef="mapColumnName()"></tr>
  <tr mat-row *matRowDef="let row; columns: mapColumnName()"></tr>
</table>
<mat-paginator
  pageSize="10"
  [pageSizeOptions]="[5, 10, 20]"
  showFirstLastButtons
></mat-paginator>
